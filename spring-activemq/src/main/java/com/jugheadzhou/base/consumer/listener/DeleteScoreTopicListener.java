package com.jugheadzhou.base.consumer.listener;import com.jugheadzhou.base.producer.entity.UserScore;import com.jugheadzhou.base.consumer.service.IScoreServer;import lombok.extern.slf4j.Slf4j;import javax.annotation.Resource;import javax.jms.Message;import javax.jms.MessageListener;import javax.jms.TextMessage;/** * @description: 删除积分主题监听器 * @author: aishu * @create: 2019-10-24 14:05 */@Slf4jpublic class DeleteScoreTopicListener implements MessageListener {    @Resource    private IScoreServer scoreServer;    @Override    public void onMessage(Message message) {         //接收TextMessage消息        if (message != null && message instanceof TextMessage) {            try {                TextMessage textMessage = (TextMessage) message;                log.debug("mq-consumer-get-message : {}",textMessage.getText());                this.execute(textMessage.getText());            }catch (Exception e){                log.error("接收消息失败！");            }        }    }    /**     * 执行对象的相关逻辑     *     * @param username     * @author zhangxueshu     */    public void execute(String username) {        log.info("积分系统的监听器开始调用删除积分业务: {}",username);        this.scoreServer.deleteUserScore(username);    }}